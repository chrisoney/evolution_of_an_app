extends layout

append head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/story_page.css")
  //- add page specific js
  script(src="/javascripts/story_page.js" type="module" defer)

block content
  div(class='story-id-container' id=story.id)
  .page-container
    .story-page-left-side
      .story-sticky-section
        img(src=story.imageUrl class='story-image')
        if story.Bookshelves.length > 0
          div(class='bookshelf-button-container added')
            i(class='fas fa-check')
            div(class='bookshelf-button-added' id=story.Bookshelves[0].id) #{story.Bookshelves[0].name}
        else
          div(class='bookshelf-button-container')
            div.placeholder
            div(class='bookshelf-button' id=wantToReadId) Want To Read
            i(class='fas fa-chevron-down')
    .story-page-right-side
      .story-details-container
        .story-title= story.title
        .story-author= story.author
        //- Review section
        .story-description-container
          if story.description.length === 0
            .story-description.none No Description Provided
          else
            .story-description.shortened= story.description
            button(class='expand') ...more
        .story-warnings-section
          if story.warnings.warnings.length === 0
            .warnings-none No Warnings
          else
            .warnings-toggle Reveal Warnings
            .story-warnings-container.hidden
              each warning in story.warnings.warnings
                .story-warning= warning
        .story-other-details-section
          .other-details-page-count Royal Road Version, #{story.pageCount} pages
          .other-details-status Current Status: 
            div(class=`${story.status === 'HIATUS' ? 'status-red':'status-green'}`) #{story.status[0] + story.status.slice(1).toLowerCase()}
          .other-details-link: a(href=story.linkUrl) Link to Story